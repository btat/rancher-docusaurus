<!doctype html>
<html class="docs-version-2.4.15" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Role-based Access Control | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://btat.github.io/rancher-docusaurus/monitoring-alerting/rbac"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.4.15"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.4.15"><meta data-react-helmet="true" property="og:title" content="Role-based Access Control | My Site"><meta data-react-helmet="true" name="description" content="This section describes the expectations for RBAC for Rancher Monitoring."><meta data-react-helmet="true" property="og:description" content="This section describes the expectations for RBAC for Rancher Monitoring."><link data-react-helmet="true" rel="shortcut icon" href="/rancher-docusaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://btat.github.io/rancher-docusaurus/monitoring-alerting/rbac"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/monitoring-alerting/rbac" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/monitoring-alerting/rbac" hreflang="x-default"><link rel="stylesheet" href="/rancher-docusaurus/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js" as="script">
<link rel="preload" href="/rancher-docusaurus/assets/js/main.ed945e9c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-docusaurus/"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Rancher Docs</b></a><a href="https://suse-projects.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>More SUSE Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rancher Deployment Quick Start Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installing/Upgrading Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backups and Disaster Recovery</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication, Permissions and Global Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setting up Kubernetes Clusters in Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cluster Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Project Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Monitoring and Alerting</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/dashboards">Built-in Dashboards</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/expression">PromQL Expression Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">guides</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/how-monitoring-works">How Monitoring Works</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/index">Intro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/rbac">Role-based Access Control</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/monitoring-alerting/windows-clusters">Windows Cluster Support for Monitoring V2</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Istio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logging</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CIS Scans</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Settings</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/cli">Using the Rancher Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/contributing">Contributing to Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/helm-charts">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/longhorn">Longhorn - Cloud native distributed block storage for Kubernetes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/opa-gatekeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/system-tools">System Tools</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.4.15</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Role-based Access Control</h1></header><p>This section describes the expectations for RBAC for Rancher Monitoring.</p><ul><li><a href="#cluster-admins">Cluster Admins</a></li><li><a href="#users-with-kubernetes-clusterrole-based-permissions">Users with Kubernetes ClusterRole-based Permissions</a><ul><li><a href="#users-with-kubernetes-admin-edit-permissions">Users with Kubernetes Admin/Edit Permissions</a></li><li><a href="#users-with-kubernetes-view-permissions">Users with Kubernetes View Permissions</a></li><li><a href="#additional-monitoring-roles">Additional Monitoring Roles</a></li><li><a href="#additional-monitoring-clusterroles">Additional Monitoring ClusterRoles</a></li></ul></li><li><a href="#additional-monitoring-roles">Additional Monitoring Roles</a></li><li><a href="#users-with-rancher-based-permissions">Users with Rancher Based Permissions</a><ul><li><a href="#differences-in-2-5-x">Differences in 2.5.x</a></li><li><a href="#assigning-additional-access">Assigning Additional Access</a></li></ul></li><li><a href="#role-based-access-control-for-grafana">Role-based Access Control for Grafana</a></li></ul><header><h1>Cluster Admins</h1></header><p>By default, only those with the cluster-admin <code>ClusterRole</code> should be able to:</p><ul><li>Install the <code>rancher-monitoring</code> App onto a cluster and all other relevant configuration performed on the chart deploy<ul><li>e.g. whether default dashboards are created, what exporters are deployed onto the cluster to collect metrics, etc.</li></ul></li><li>Create / modify / delete Prometheus deployments in the cluster via Prometheus CRs</li><li>Create / modify / delete Alertmanager deployments in the cluster via Alertmanager CRs</li><li>Persist new Grafana dashboards or datasources via creating ConfigMaps in the appropriate namespace</li><li>Expose certain Prometheus metrics to the k8s Custom Metrics API for HPA via a Secret in the <code>cattle-monitoring-system</code> namespace</li></ul><header><h1>Users with Kubernetes ClusterRole-based Permissions</h1></header><p>The <code>rancher-monitoring</code> chart installs the following three <code>ClusterRoles</code>. By default, they aggregate into the corresponding k8s <code>ClusterRoles</code>:</p><table><thead><tr><th>ClusterRole</th><th>Aggregates To Default K8s ClusterRole</th></tr></thead><tbody><tr><td><code>monitoring-admin</code></td><td><code>admin</code></td></tr><tr><td><code>monitoring-edit</code></td><td><code>edit</code></td></tr><tr><td><code>monitoring-view</code></td><td><code>view </code></td></tr></tbody></table><p>These <code>ClusterRoles</code> provide different levels of access to the Monitoring CRDs based on the actions that can be performed:</p><table><thead><tr><th>CRDs (monitoring.coreos.com)</th><th>Admin</th><th>Edit</th><th>View</th></tr></thead><tbody><tr><td>\&lt;ul&gt;\&lt;li&gt;<code>prometheuses</code>, <code>alertmanagers</code>\&lt;/li&gt;\&lt;/ul&gt;</td><td>Get, List, Watch</td><td>Get, List, Watch</td><td>Get, List, Watch</td></tr><tr><td>\&lt;ul&gt;\&lt;li&gt;<code>servicemonitors</code>, <code>podmonitors</code>, <code>prometheusrules</code>\&lt;/li&gt;\&lt;/ul&gt;</td><td>*</td><td>*</td><td>Get, List, Watch</td></tr></tbody></table><p>On a high level, the following permissions are assigned by default as a result.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="users-with-kubernetes-adminedit-permissions"></a>Users with Kubernetes Admin/Edit Permissions<a class="hash-link" href="#users-with-kubernetes-adminedit-permissions" title="Direct link to heading">#</a></h3><p>Only those with the the cluster-admin, admin or edit <code>ClusterRole</code> should be able to:</p><ul><li>Modify the scrape configuration of Prometheus deployments via ServiceMonitor and PodMonitor CRs</li><li>Modify the alerting / recording rules of a Prometheus deployment via PrometheusRules CRs</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="users-with-kubernetes-view-permissions"></a>Users with Kubernetes View Permissions<a class="hash-link" href="#users-with-kubernetes-view-permissions" title="Direct link to heading">#</a></h3><p>Only those with who have some Kubernetes <code>ClusterRole</code> should be able to:</p><ul><li>View the configuration of Prometheuses that are deployed within the cluster</li><li>View the configuration of Alertmanagers that are deployed within the cluster</li><li>View the scrape configuration of Prometheus deployments via ServiceMonitor and PodMonitor CRs</li><li>View the alerting/recording rules of a Prometheus deployment via PrometheusRules CRs</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="additional-monitoring-roles"></a>Additional Monitoring Roles<a class="hash-link" href="#additional-monitoring-roles" title="Direct link to heading">#</a></h3><p>Monitoring also creates additional <code>Roles</code> that are not assigned to users by default but are created within the cluster. They can be bound to a namespace by deploying a RoleBinding that references it.</p><p>Admins should use these roles to provide more fine-grained access to users:</p><table><thead><tr><th>Role</th><th>Purpose</th></tr></thead><tbody><tr><td>monitoring-config-admin</td><td>Allow admins to assign roles to users to be able to view / modify Secrets and ConfigMaps within the cattle-monitoring-system namespace. Modifying Secrets / ConfigMaps in this namespace could allow users to alter the cluster&#x27;s Alertmanager configuration, Prometheus Adapter configuration, additional Grafana datasources, TLS secrets, etc.</td></tr><tr><td>monitoring-config-edit</td><td>Allow admins to assign roles to users to be able to view / modify Secrets and ConfigMaps within the cattle-monitoring-system namespace. Modifying Secrets / ConfigMaps in this namespace could allow users to alter the cluster&#x27;s Alertmanager configuration, Prometheus Adapter configuration, additional Grafana datasources, TLS secrets, etc.</td></tr><tr><td>monitoring-config-view</td><td>Allow admins to assign roles to users to be able to view Secrets and ConfigMaps within the cattle-monitoring-system namespace. Viewing Secrets / ConfigMaps in this namespace could allow users to observe the cluster&#x27;s Alertmanager configuration, Prometheus Adapter configuration, additional Grafana datasources, TLS secrets, etc.</td></tr><tr><td>monitoring-dashboard-admin</td><td>Allow admins to assign roles to users to be able to edit / view ConfigMaps within the cattle-dashboards namespace. ConfigMaps in this namespace will correspond to Grafana Dashboards that are persisted onto the cluster.</td></tr><tr><td>monitoring-dashboard-edit</td><td>Allow admins to assign roles to users to be able to edit / view ConfigMaps within the cattle-dashboards namespace. ConfigMaps in this namespace will correspond to Grafana Dashboards that are persisted onto the cluster.</td></tr><tr><td>monitoring-dashboard-view</td><td>Allow admins to assign roles to users to be able to view ConfigMaps within the cattle-dashboards namespace. ConfigMaps in this namespace will correspond to Grafana Dashboards that are persisted onto the cluster.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="additional-monitoring-clusterroles"></a>Additional Monitoring ClusterRoles<a class="hash-link" href="#additional-monitoring-clusterroles" title="Direct link to heading">#</a></h3><p>Monitoring also creates additional <code>ClusterRoles</code> that are not assigned to users by default but are created within the cluster.  They are not aggregated by default but can be bound to a namespace by deploying a RoleBinding that references it.</p><table><thead><tr><th>Role</th><th>Purpose</th></tr></thead><tbody><tr><td>monitoring-ui-view</td><td>\&lt;a id=&quot;monitoring-ui-view&quot;&gt;\&lt;/a&gt;<em>Available as of Monitoring v2 14.5.100+</em> Provides read-only access to external Monitoring UIs by giving a user permission to list the Prometheus, Alertmanager, and Grafana endpoints and make GET requests to Prometheus, Grafana, and Alertmanager UIs through the Rancher proxy.</td></tr></tbody></table><header><h1>Users with Rancher Based Permissions</h1></header><p>The relationship between the default roles deployed by Rancher (i.e. cluster-owner, cluster-member, project-owner, project-member), the default Kubernetes roles, and the roles deployed by the rancher-monitoring chart are detailed in the table below:</p><p>\&lt;figcaption&gt;Default Rancher Permissions and Corresponding Kubernetes ClusterRoles\&lt;/figcaption&gt;</p><table><thead><tr><th>Rancher Role</th><th>Kubernetes Role</th><th>Monitoring ClusterRole / Role</th><th>ClusterRoleBinding or RoleBinding?</th></tr></thead><tbody><tr><td>cluster-owner</td><td>cluster-admin</td><td>N/A</td><td>ClusterRoleBinding</td></tr><tr><td>cluster-member</td><td>admin</td><td>monitoring-admin</td><td>ClusterRoleBinding</td></tr><tr><td>project-owner</td><td>edit</td><td>monitoring-admin</td><td>RoleBinding within Project namespace</td></tr><tr><td>project-member</td><td>view</td><td>monitoring-edit</td><td>RoleBinding within Project namespace</td></tr></tbody></table><p>In addition to these default Roles, the following additional Rancher project roles can be applied to members of your Cluster to provide additional access to Monitoring. These Rancher Roles will be tied to ClusterRoles deployed by the Monitoring chart:</p><p>\&lt;figcaption&gt;Non-default Rancher Permissions and Corresponding Kubernetes ClusterRoles\&lt;/figcaption&gt;</p><table><thead><tr><th>Rancher Role</th><th>Kubernetes ClusterRole</th><th>Available In Rancher From</th><th>Available in Monitoring v2 From</th></tr></thead><tbody><tr><td>View Monitoring*</td><td><a href="#monitoring-ui-view">monitoring-ui-view</a></td><td>2.4.8+</td><td>9.4.204+</td></tr></tbody></table><p>* A User bound to the <strong>View Monitoring</strong> Rancher Role only has permissions to access external Monitoring UIs if provided links to those UIs. In order to access the Monitoring Pane to get those links, the User must be a Project Member of at least one Project.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="differences-in-25x"></a>Differences in 2.5.x<a class="hash-link" href="#differences-in-25x" title="Direct link to heading">#</a></h3><p>Users with the project-member or project-owners roles assigned will not be given access to either Prometheus or Grafana in Rancher 2.5.x since we only create Grafana or Prometheus on a cluster-level.</p><p>In addition, while project owners will still be only able to add ServiceMonitors / PodMonitors that scrape resources within their project&#x27;s namespace by default, PrometheusRules are not scoped to a single namespace / project. Therefore, any alert rules or recording rules created by project-owners within their project namespace will be applied across the entire cluster, although they will be unable to view / edit / delete any rules that were created outside the project&#x27;s namespace.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="assigning-additional-access"></a>Assigning Additional Access<a class="hash-link" href="#assigning-additional-access" title="Direct link to heading">#</a></h3><p>If cluster-admins would like to provide additional admin/edit access to users outside of the roles offered by the rancher-monitoring chart, the following table identifies the potential impact:</p><table><thead><tr><th>CRDs (monitoring.coreos.com)</th><th>Can it cause impact outside of a namespace / project?</th><th>Impact</th></tr></thead><tbody><tr><td><code>prometheuses</code></td><td>Yes, this resource can scrape metrics from any targets across the entire cluster (unless the Operator itself is otherwise configured).</td><td>User will be able to define the configuration of new cluster-level Prometheus deployments that should be created in the cluster.</td></tr><tr><td><code>alertmanagers</code></td><td>No</td><td>User will be able to define the configuration of new cluster-level Alertmanager deployments that should be created in the cluster. Note: if you just want to allow users to configure settings like Routes and Receivers, you should just provide access to the Alertmanager Config Secret instead.</td></tr><tr><td>\&lt;ul&gt;\&lt;li&gt;<code>servicemonitors</code>, <code>podmonitors</code>\&lt;/li&gt;\&lt;/ul&gt;</td><td>No, not by default; this is configurable via <code>ignoreNamespaceSelectors</code> on the Prometheus CR.</td><td>User will be able to set up scrapes by Prometheus on endpoints exposed by Services / Pods within the namespace they are given this permission in.</td></tr><tr><td><code>prometheusrules</code></td><td>Yes, PrometheusRules are cluster-scoped.</td><td>User will be able to define alert or recording rules on Prometheus based on any series collected across the entire cluster.</td></tr></tbody></table><table><thead><tr><th>k8s Resources</th><th>Namespace</th><th>Can it cause impact outside of a namespace / project?</th><th>Impact</th></tr></thead><tbody><tr><td>\&lt;ul&gt;\&lt;li&gt;<code>secrets</code>, <code>configmaps</code>\&lt;/li&gt;\&lt;/ul&gt;</td><td><code>cattle-monitoring-system</code></td><td>Yes, Configs and Secrets in this namespace can impact the entire monitoring / alerting pipeline.</td><td>User will be able to create or edit Secrets / ConfigMaps such as the Alertmanager Config, Prometheus Adapter Config, TLS secrets, additional Grafana datasources, etc. This can have broad impact on all cluster monitoring / alerting.</td></tr><tr><td>\&lt;ul&gt;\&lt;li&gt;<code>secrets</code>, <code>configmaps</code>\&lt;/li&gt;\&lt;/ul&gt;</td><td><code>cattle-dashboards</code></td><td>Yes, Configs and Secrets in this namespace can create dashboards that make queries on all metrics collected at a cluster-level.</td><td>User will be able to create Secrets / ConfigMaps that persist new Grafana Dashboards only.</td></tr></tbody></table><header><h1>Role-based Access Control for Grafana</h1></header><p>Rancher allows any users who are authenticated by Kubernetes and have access the Grafana service deployed by the Rancher Monitoring chart to access Grafana via the Rancher Dashboard UI. By default, all users who are able to access Grafana are given the <a href="https://grafana.com/docs/grafana/latest/permissions/organization_roles/#viewer-role" target="_blank" rel="noopener noreferrer">Viewer</a> role, which allows them to view any of the default dashboards deployed by Rancher.</p><p>However, users can choose to log in to Grafana as an <a href="https://grafana.com/docs/grafana/latest/permissions/organization_roles/#admin-role" target="_blank" rel="noopener noreferrer">Admin</a> if necessary. The default Admin username and password for the Grafana instance will be <code>admin</code>/<code>prom-operator</code>, but alternative credentials can also be supplied on deploying or upgrading the chart.</p><p>To see the Grafana UI, install <code>rancher-monitoring</code>. Then:</p><ol><li>In the upper left corner, click <strong>â˜° &gt; Cluster Management</strong>.</li><li>On the <strong>Clusters</strong> page, go to the cluster where you want to see the visualizations and click <strong>Explore</strong>.</li><li>In the left navigation bar, click <strong>Monitoring</strong>.</li><li>Click <strong>Grafana</strong>.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly img"><pre tabindex="0" class="prism-code language-img codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">\&lt;figcaption\&gt;Cluster Compute Resources Dashboard in Grafana\&lt;/figcaption\&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">![Cluster Compute Resources Dashboard in Grafana](./assets/img/rancher/cluster-compute-resources-dashboard.png)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">\&lt;figcaption\&gt;Default Dashboards in Grafana\&lt;/figcaption\&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">![Default Dashboards in Grafana](./assets/img/rancher/grafana-default-dashboard.png)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/versioned_docs/version-2.4.15/monitoring-alerting/rbac.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rancher-docusaurus/monitoring-alerting/index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Intro</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rancher-docusaurus/monitoring-alerting/windows-clusters"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Windows Cluster Support for Monitoring V2 Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#users-with-kubernetes-adminedit-permissions" class="table-of-contents__link">Users with Kubernetes Admin/Edit Permissions</a></li><li><a href="#users-with-kubernetes-view-permissions" class="table-of-contents__link">Users with Kubernetes View Permissions</a></li><li><a href="#additional-monitoring-roles" class="table-of-contents__link">Additional Monitoring Roles</a></li><li><a href="#additional-monitoring-clusterroles" class="table-of-contents__link">Additional Monitoring ClusterRoles</a></li><li><a href="#differences-in-25x" class="table-of-contents__link">Differences in 2.5.x</a></li><li><a href="#assigning-additional-access" class="table-of-contents__link">Assigning Additional Access</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forums.rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.rancher.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Rancher_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher Website</a></li><li class="footer__item"><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/rancher/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js"></script>
<script src="/rancher-docusaurus/assets/js/main.ed945e9c.js"></script>
</body>
</html>