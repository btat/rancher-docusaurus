<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Installing Rancher on a Single Node Using Docker | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://btat.github.io/rancher-docusaurus/installation/other-installation-methods/single-node-docker/index"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installing Rancher on a Single Node Using Docker | My Site"><meta data-react-helmet="true" name="description" content="For development and testing environments only, use a Docker install. Install Docker on a single Linux host, and deploy Rancher with a single Docker container."><meta data-react-helmet="true" property="og:description" content="For development and testing environments only, use a Docker install. Install Docker on a single Linux host, and deploy Rancher with a single Docker container."><link data-react-helmet="true" rel="shortcut icon" href="/rancher-docusaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://btat.github.io/rancher-docusaurus/installation/other-installation-methods/single-node-docker/index"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/installation/other-installation-methods/single-node-docker/index" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/installation/other-installation-methods/single-node-docker/index" hreflang="x-default"><link rel="stylesheet" href="/rancher-docusaurus/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/rancher-docusaurus/assets/js/runtime~main.9668cced.js" as="script">
<link rel="preload" href="/rancher-docusaurus/assets/js/main.7243044c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-docusaurus/"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Rancher Docs</b></a><a href="https://suse-projects.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>More SUSE Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rancher Deployment Quick Start Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Installing/Upgrading Rancher</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/index">Intro</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">install-rancher-on-k8s</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">other-installation-methods</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">air-gap</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">behind-proxy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/index">Other Installation Methods</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">single-node-docker</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/advanced">Advanced Options for Docker Installs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/index">Installing Rancher on a Single Node Using Docker</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/proxy">HTTP Proxy Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/single-node-rollbacks">Rolling Back Rancher Installed with Docker</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/single-node-upgrades">Upgrading Rancher Installed with Docker</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/troubleshooting">Certificate Troubleshooting</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">requirements</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">resources</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backups and Disaster Recovery</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication, Permissions and Global Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setting up Kubernetes Clusters in Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cluster Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Project Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring and Alerting</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Istio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logging</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CIS Scans</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Settings</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/cli">Using the Rancher Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/contributing">Contributing to Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/helm-charts">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/longhorn">Longhorn - Cloud native distributed block storage for Kubernetes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/opa-gatekeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/system-tools">System Tools</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installing Rancher on a Single Node Using Docker</h1></header><p>Rancher can be installed by running a single Docker container.</p><p>In this installation scenario, you&#x27;ll install Docker on a single Linux host, and then deploy Rancher on your host using a single Docker container.</p><p>&gt; <strong>Want to use an external load balancer?</strong>
&gt; See <a href="https://rancher.com/docs/rancher/v2.6/en/installation/resources/advanced/single-node-install-external-lb" target="_blank" rel="noopener noreferrer">Docker Install with an External Load Balancer</a> instead.</p><p>A Docker installation of Rancher is recommended only for development and testing purposes. The ability to migrate Rancher to a high-availability cluster depends on the Rancher version:</p><p>The Rancher backup operator can be used to migrate Rancher from the single Docker container install to an installation on a high-availability Kubernetes cluster. For details, refer to the documentation on <a href="https://rancher.com/docs/rancher/v2.6/en/backups/migrating-rancher" target="_blank" rel="noopener noreferrer">migrating Rancher to a new cluster.</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="privileged-access-for-rancher"></a>Privileged Access for Rancher<a class="hash-link" href="#privileged-access-for-rancher" title="Direct link to heading">#</a></h3><p>When the Rancher server is deployed in the Docker container, a local Kubernetes cluster is installed within the container for Rancher to use. Because many features of Rancher run as deployments, and privileged mode is required to run containers within containers, you will need to install Rancher with the <code>--privileged</code> option.</p><header><h1>Requirements for OS, Docker, Hardware, and Networking</h1></header><p>Make sure that your node fulfills the general <a href="https://rancher.com/docs/rancher/v2.6/en/installation/requirements/" target="_blank" rel="noopener noreferrer">installation requirements.</a></p><header><h1>1. Provision Linux Host</h1></header><p>Provision a single Linux host according to our <a href="https://rancher.com/docs/rancher/v2.6/en/installation/requirements" target="_blank" rel="noopener noreferrer">Requirements</a> to launch your Rancher server.</p><header><h1>2. Choose an SSL Option and Install Rancher</h1></header><p>For security purposes, SSL (Secure Sockets Layer) is required when using Rancher. SSL secures all Rancher network communication, like when you login or interact with a cluster.</p><p>&gt; <strong>Do you want to..</strong>.
&gt;
&gt; - Use a proxy? See <a href="https://rancher.com/docs/rancher/v2.6/en/installation/other-installation-methods/single-node-docker/proxy/" target="_blank" rel="noopener noreferrer">HTTP Proxy Configuration</a>
&gt; - Configure custom CA root certificate to access your services? See <a href="https://rancher.com/docs/rancher/v2.6/en/installation/other-installation-methods/single-node-docker/advanced/#custom-ca-certificate/" target="_blank" rel="noopener noreferrer">Custom CA root certificate</a>
&gt; - Complete an Air Gap Installation? See <a href="https://rancher.com/docs/rancher/v2.6/en/installation/other-installation-methods/air-gap/" target="_blank" rel="noopener noreferrer">Air Gap: Docker Install</a>
&gt; - Record all transactions with the Rancher API? See <a href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/advanced#api-audit-log">API Auditing</a></p><p>Choose from the following options:</p><ul><li><a href="#option-a-default-rancher-generated-self-signed-certificate">Option A: Default Rancher-generated Self-signed Certificate</a></li><li><a href="#option-b-bring-your-own-certificate-self-signed">Option B: Bring Your Own Certificate, Self-signed</a></li><li><a href="#option-c-bring-your-own-certificate-signed-by-a-recognized-ca">Option C: Bring Your Own Certificate, Signed by a Recognized CA</a></li><li><a href="#option-d-let-s-encrypt-certificate">Option D: Let&#x27;s Encrypt Certificate</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="option-a-default-rancher-generated-self-signed-certificate"></a>Option A: Default Rancher-generated Self-signed Certificate<a class="hash-link" href="#option-a-default-rancher-generated-self-signed-certificate" title="Direct link to heading">#</a></h3><p>If you are installing Rancher in a development or testing environment where identity verification isn&#x27;t a concern, install Rancher using the self-signed certificate that it generates. This installation option omits the hassle of generating a certificate yourself.</p><p>Log into your Linux host, and then run the minimum installation command below.</p><p>Privileged access is <a href="#privileged-access-for-rancher">required.</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">unless-stopped </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">:80 -p </span><span class="token number" style="color:#36acaa">443</span><span class="token plain">:443 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --privileged </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  rancher/rancher:latest</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="option-b-bring-your-own-certificate-self-signed"></a>Option B: Bring Your Own Certificate, Self-signed<a class="hash-link" href="#option-b-bring-your-own-certificate-self-signed" title="Direct link to heading">#</a></h3><p>In development or testing environments where your team will access your Rancher server, create a self-signed certificate for use with your install so that your team can verify they&#x27;re connecting to your instance of Rancher.</p><p>&gt; <strong>Prerequisites:</strong>
&gt; Create a self-signed certificate using <a href="https://www.openssl.org/" target="_blank" rel="noopener noreferrer">OpenSSL</a> or another method of your choice.
&gt;
&gt; - The certificate files must be in PEM format.
&gt; - In your certificate file, include all intermediate certificates in the chain. Order your certificates with your certificate first, followed by the intermediates. For an example, see <a href="https://rancher.com/docs/rancher/v2.6/en/installation/other-installation-methods/single-node-docker/troubleshooting" target="_blank" rel="noopener noreferrer">Certificate Troubleshooting.</a></p><p>After creating your certificate, run the Docker command below to install Rancher. Use the <code>-v</code> flag and provide the path to your certificates to mount them in your container.</p><table><thead><tr><th>Placeholder</th><th>Description</th></tr></thead><tbody><tr><td><code>\&lt;CERT_DIRECTORY\&gt;</code></td><td>The path to the directory containing your certificate files.</td></tr><tr><td><code>\&lt;FULL_CHAIN.pem\&gt;</code></td><td>The path to your full certificate chain.</td></tr><tr><td><code>\&lt;PRIVATE_KEY.pem\&gt;</code></td><td>The path to the private key for your certificate.</td></tr><tr><td><code>\&lt;CA_CERTS.pem\&gt;</code></td><td>The path to the certificate authority&#x27;s certificate.</td></tr></tbody></table><p>Privileged access is <a href="#privileged-access-for-rancher">required.</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">unless-stopped </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">:80 -p </span><span class="token number" style="color:#36acaa">443</span><span class="token plain">:443 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CERT_DIRECTORY</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">FULL_CHAIN.pem</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/etc/rancher/ssl/cert.pem </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CERT_DIRECTORY</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">PRIVATE_KEY.pem</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/etc/rancher/ssl/key.pem </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CERT_DIRECTORY</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CA_CERTS.pem</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/etc/rancher/ssl/cacerts.pem </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --privileged </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  rancher/rancher:latest</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="option-c-bring-your-own-certificate-signed-by-a-recognized-ca"></a>Option C: Bring Your Own Certificate, Signed by a Recognized CA<a class="hash-link" href="#option-c-bring-your-own-certificate-signed-by-a-recognized-ca" title="Direct link to heading">#</a></h3><p>In production environments where you&#x27;re exposing an app publicly, use a certificate signed by a recognized CA so that your user base doesn&#x27;t encounter security warnings.</p><p>&gt; <strong>Prerequisites:</strong>
&gt;
&gt; - The certificate files must be in PEM format.
&gt; - In your certificate file, include all intermediate certificates provided by the recognized CA. Order your certificates with your certificate first, followed by the intermediates. For an example, see <a href="https://rancher.com/docs/rancher/v2.6/en/installation/other-installation-methods/single-node-docker/troubleshooting" target="_blank" rel="noopener noreferrer">Certificate Troubleshooting.</a></p><p>After obtaining your certificate, run the Docker command below.</p><ul><li>Use the <code>-v</code> flag and provide the path to your certificates to mount them in your container. Because your certificate is signed by a recognized CA, mounting an additional CA certificate file is unnecessary.</li><li>Use the <code>--no-cacerts</code> as argument to the container to disable the default CA certificate generated by Rancher.</li></ul><table><thead><tr><th>Placeholder</th><th>Description</th></tr></thead><tbody><tr><td><code>\&lt;CERT_DIRECTORY\&gt;</code></td><td>The path to the directory containing your certificate files.</td></tr><tr><td><code>\&lt;FULL_CHAIN.pem\&gt;</code></td><td>The path to your full certificate chain.</td></tr><tr><td><code>\&lt;PRIVATE_KEY.pem\&gt;</code></td><td>The path to the private key for your certificate.</td></tr></tbody></table><p>Privileged access is <a href="#privileged-access-for-rancher">required.</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">unless-stopped </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">:80 -p </span><span class="token number" style="color:#36acaa">443</span><span class="token plain">:443 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CERT_DIRECTORY</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">FULL_CHAIN.pem</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/etc/rancher/ssl/cert.pem </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CERT_DIRECTORY</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">PRIVATE_KEY.pem</span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/etc/rancher/ssl/key.pem </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --privileged </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  rancher/rancher:latest </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --no-cacerts</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="option-d-lets-encrypt-certificate"></a>Option D: Let&#x27;s Encrypt Certificate<a class="hash-link" href="#option-d-lets-encrypt-certificate" title="Direct link to heading">#</a></h3><p>&gt; <strong>Remember:</strong> Let&#x27;s Encrypt provides rate limits for requesting new certificates. Therefore, limit how often you create or destroy the container. For more information, see <a href="https://letsencrypt.org/docs/rate-limits/" target="_blank" rel="noopener noreferrer">Let&#x27;s Encrypt documentation on rate limits</a>.</p><p>For production environments, you also have the option of using <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#x27;s Encrypt</a> certificates. Let&#x27;s Encrypt uses an http-01 challenge to verify that you have control over your domain. You can confirm that you control the domain by pointing the hostname that you want to use for Rancher access (for example, <code>rancher.mydomain.com</code>) to the IP of the machine it is running on. You can bind the hostname to the IP address by creating an A record in DNS.</p><p>&gt; <strong>Prerequisites:</strong>
&gt;
&gt; - Let&#x27;s Encrypt is an Internet service. Therefore, this option cannot be used in an internal/air gapped network.
&gt; - Create a record in your DNS that binds your Linux host IP address to the hostname that you want to use for Rancher access (<code>rancher.mydomain.com</code> for example).
&gt; - Open port <code>TCP/80</code> on your Linux host. The Let&#x27;s Encrypt http-01 challenge can come from any source IP address, so port <code>TCP/80</code> must be open to all IP addresses.</p><p>After you fulfill the prerequisites, you can install Rancher using a Let&#x27;s Encrypt certificate by running the following command.</p><table><thead><tr><th>Placeholder</th><th>Description</th></tr></thead><tbody><tr><td><code>\&lt;YOUR.DNS.NAME\&gt;</code></td><td>Your domain address</td></tr></tbody></table><p>Privileged access is <a href="#privileged-access-for-rancher">required.</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --restart=unless-stopped \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 80:80 -p 443:443 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --privileged \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  rancher/rancher:latest \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --acme-domain \&lt;YOUR.DNS.NAME\&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="advanced-options"></a>Advanced Options<a class="hash-link" href="#advanced-options" title="Direct link to heading">#</a></h2><p>When installing Rancher on a single node with Docker, there are several advanced options that can be enabled:</p><ul><li>Custom CA Certificate</li><li>API Audit Log</li><li>TLS Settings</li><li>Air Gap</li><li>Persistent Data</li><li>Running <code>rancher/rancher</code> and <code>rancher/rancher-agent</code> on the Same Node</li></ul><p>Refer to <a href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/advanced">this page</a> for details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><p>Refer to <a href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/troubleshooting">this page</a> for frequently asked questions and troubleshooting tips.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="whats-next"></a>What&#x27;s Next?<a class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h2><ul><li><strong>Recommended:</strong> Review <a href="https://rancher.com/docs/rancher/v2.6/en/backups/docker-installs" target="_blank" rel="noopener noreferrer">Single Node Backup and Restore</a>. Although you don&#x27;t have any data you need to back up right now, we recommend creating backups after regular Rancher use.</li><li>Create a Kubernetes cluster: <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/" target="_blank" rel="noopener noreferrer">Provisioning Kubernetes Clusters</a>.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/installation/other-installation-methods/single-node-docker/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Advanced Options for Docker Installs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rancher-docusaurus/installation/other-installation-methods/single-node-docker/proxy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HTTP Proxy Configuration Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#privileged-access-for-rancher" class="table-of-contents__link">Privileged Access for Rancher</a></li><li><a href="#option-a-default-rancher-generated-self-signed-certificate" class="table-of-contents__link">Option A: Default Rancher-generated Self-signed Certificate</a></li><li><a href="#option-b-bring-your-own-certificate-self-signed" class="table-of-contents__link">Option B: Bring Your Own Certificate, Self-signed</a></li><li><a href="#option-c-bring-your-own-certificate-signed-by-a-recognized-ca" class="table-of-contents__link">Option C: Bring Your Own Certificate, Signed by a Recognized CA</a></li><li><a href="#option-d-lets-encrypt-certificate" class="table-of-contents__link">Option D: Let&#39;s Encrypt Certificate</a></li><li><a href="#advanced-options" class="table-of-contents__link">Advanced Options</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a></li><li><a href="#whats-next" class="table-of-contents__link">What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forums.rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.rancher.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Rancher_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher Website</a></li><li class="footer__item"><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/rancher/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-docusaurus/assets/js/runtime~main.9668cced.js"></script>
<script src="/rancher-docusaurus/assets/js/main.7243044c.js"></script>
</body>
</html>