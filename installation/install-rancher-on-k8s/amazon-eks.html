<!doctype html>
<html class="docs-version-2.4.15" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Installing Rancher on Amazon EKS | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://btat.github.io/rancher-docusaurus/installation/install-rancher-on-k8s/amazon-eks"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.4.15"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.4.15"><meta data-react-helmet="true" property="og:title" content="Installing Rancher on Amazon EKS | My Site"><meta data-react-helmet="true" name="description" content="This page covers two ways to install Rancher on EKS."><meta data-react-helmet="true" property="og:description" content="This page covers two ways to install Rancher on EKS."><link data-react-helmet="true" rel="shortcut icon" href="/rancher-docusaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://btat.github.io/rancher-docusaurus/installation/install-rancher-on-k8s/amazon-eks"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/installation/install-rancher-on-k8s/amazon-eks" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/installation/install-rancher-on-k8s/amazon-eks" hreflang="x-default"><link rel="stylesheet" href="/rancher-docusaurus/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js" as="script">
<link rel="preload" href="/rancher-docusaurus/assets/js/main.ed945e9c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-docusaurus/"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Rancher Docs</b></a><a href="https://suse-projects.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>More SUSE Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rancher Deployment Quick Start Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Installing/Upgrading Rancher</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/index">Intro</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">install-rancher-on-k8s</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/aks">Installing Rancher on Azure Kubernetes Service</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/amazon-eks">Installing Rancher on Amazon EKS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/chart-options">Rancher Helm Chart Options</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/gke">Installing Rancher on a Google Kubernetes Engine Cluster</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/index">Install/Upgrade Rancher on a Kubernetes Cluster</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/installation/install-rancher-on-k8s/rollbacks">Rollbacks</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">upgrades</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">other-installation-methods</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">requirements</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">resources</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backups and Disaster Recovery</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication, Permissions and Global Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setting up Kubernetes Clusters in Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cluster Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Project Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring and Alerting</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Istio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logging</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CIS Scans</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Settings</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/cli">Using the Rancher Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/contributing">Contributing to Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/helm-charts">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/longhorn">Longhorn - Cloud native distributed block storage for Kubernetes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/opa-gatekeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/system-tools">System Tools</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.4.15</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installing Rancher on Amazon EKS</h1></header><p>This page covers two ways to install Rancher on EKS.</p><p>The first is a guide for deploying the Rancher server on an EKS cluster using CloudFormation. This guide was created in collaboration with Amazon Web Services to show how to deploy Rancher following best practices.</p><p>The second is a guide for installing an EKS cluster with an ingress by using command line tools. This guide may be useful if you want to use fewer resources while trying out Rancher on EKS.</p><p>If you already have an EKS Kubernetes cluster, skip to the step about <a href="#5-install-an-ingress">installing an ingress.</a> Then install the Rancher Helm chart following the instructions on <a href="https://rancher.com/docs/rancher/v2.6/en/installation/install-rancher-on-k8s/#install-the-rancher-helm-chart" target="_blank" rel="noopener noreferrer">this page.</a></p><ul><li><a href="#automated-quickstart-using-aws-best-practices">Automated Quickstart using AWS Best Practices</a></li><li><a href="#creating-an-eks-cluster-for-the-rancher-server">Creating an EKS Cluster for the Rancher Server</a></li></ul><header><h1>Automated Quickstart using AWS Best Practices</h1></header><p>Rancher and Amazon Web Services collaborated on a quick start guide for deploying Rancher on an EKS cluster following AWS best practices. The deployment guide is <a href="https://aws-quickstart.github.io/quickstart-eks-rancher/" target="_blank" rel="noopener noreferrer">here.</a></p><p>The quick start guide provides three options for deploying Rancher on EKS:</p><ul><li><strong>Deploy Rancher into a new VPC and new Amazon EKS cluster</strong>. This option builds a new AWS environment consisting of the VPC, subnets, NAT gateways, security groups, bastion hosts, Amazon EKS cluster, and other infrastructure components. It then deploys Rancher into this new EKS cluster.</li><li><strong>Deploy Rancher into an existing VPC and a new Amazon EKS cluster</strong>. This option provisions Rancher in your existing AWS infrastructure.</li><li><strong>Deploy Rancher into an existing VPC and existing Amazon EKS cluster</strong>. This option provisions Rancher in your existing AWS infrastructure.</li></ul><p>Deploying this Quick Start for a new virtual private cloud (VPC) and new Amazon EKS cluster using default parameters builds the following Rancher environment in the AWS Cloud:</p><ul><li>A highly available architecture that spans three Availability Zones.*</li><li>A VPC configured with public and private subnets, according to AWS best practices, to provide you with your own virtual network on AWS.*</li><li>In the public subnets:<ul><li>Managed network address translation (NAT) gateways to allow outbound internet access for resources.*</li><li>Linux bastion hosts in an Auto Scaling group to allow inbound Secure Shell (SSH) access to Amazon Elastic Compute Cloud (Amazon EC2) instances in public and private subnets.*</li></ul></li><li>In the private subnets:<ul><li>Kubernetes nodes in an Auto Scaling group.*</li><li>A Network Load Balancer (not shown) for accessing the Rancher console.</li></ul></li><li>Rancher deployment using AWS Systems Manager automation.</li><li>Amazon EKS service for the EKS cluster, which provides the Kubernetes control plane.*</li><li>An Amazon Route 53 DNS record for accessing the Rancher deployment.</li></ul><p>* The CloudFormation template that deploys the Quick Start into an existing Amazon EKS cluster skips the components marked by asterisks and prompts you for your existing VPC configuration.</p><header><h1>Creating an EKS Cluster for the Rancher Server</h1></header><p>In this section, you&#x27;ll install an EKS cluster with an ingress by using command line tools. This guide may be useful if you want to use fewer resources while trying out Rancher on EKS.</p><p>&gt; <strong>Prerequisites:</strong>
&gt;
&gt; - You should already have an AWS account.
&gt; - It is recommended to use an IAM user instead of the root AWS account. You will need the IAM user&#x27;s access key and secret key to configure the AWS command line interface.
&gt; - The IAM user needs the minimum IAM policies described in the official <a href="https://eksctl.io/usage/minimum-iam-policies/" target="_blank" rel="noopener noreferrer">eksctl documentation.</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="1-prepare-your-workstation"></a>1. Prepare your Workstation<a class="hash-link" href="#1-prepare-your-workstation" title="Direct link to heading">#</a></h3><p>Install the following command line tools on your workstation:</p><ul><li><strong>The AWS CLI v2:</strong> For help, refer to these <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html" target="_blank" rel="noopener noreferrer">installation steps.</a></li><li><strong>eksctl:</strong> For help, refer to these <a href="https://docs.aws.amazon.com/eks/latest/userguide/eksctl.html" target="_blank" rel="noopener noreferrer">installation steps.</a></li><li><strong>kubectl:</strong> For help, refer to these <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html" target="_blank" rel="noopener noreferrer">installation steps.</a></li><li><strong>helm:</strong> For help, refer to these <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">installation steps.</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="2-configure-the-aws-cli"></a>2. Configure the AWS CLI<a class="hash-link" href="#2-configure-the-aws-cli" title="Direct link to heading">#</a></h3><p>To configure the AWS CLI, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">aws configure</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then enter the following values:</p><table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>AWS Access Key ID</td><td>The access key credential for the IAM user with EKS permissions.</td></tr><tr><td>AWS Secret Access Key</td><td>The secret key credential for the IAM user with EKS permissions.</td></tr><tr><td>Default region name</td><td>An <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html#Concepts.RegionsAndAvailabilityZones.Regions" target="_blank" rel="noopener noreferrer">AWS region</a> where the cluster nodes will be located.</td></tr><tr><td>Default output format</td><td>Enter <code>json</code>.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="3-create-the-eks-cluster"></a>3. Create the EKS Cluster<a class="hash-link" href="#3-create-the-eks-cluster" title="Direct link to heading">#</a></h3><p>To create an EKS cluster, run the following command. Use the AWS region that applies to your use case:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">eksctl create cluster \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name rancher-server \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --version 1.18 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --region us-west-2 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --nodegroup-name ranchernodes \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --nodes 3 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --nodes-min 1 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --nodes-max 4 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --managed</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The cluster will take some time to be deployed with CloudFormation.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="4-test-the-cluster"></a>4. Test the Cluster<a class="hash-link" href="#4-test-the-cluster" title="Direct link to heading">#</a></h3><p>To test the cluster, run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">eksctl get cluster</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result should look like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">eksctl get cluster</span></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-03-18 15:09:35 [â„¹]  eksctl version 0.40.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-03-18 15:09:35 [â„¹]  using region us-west-2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME        REGION      EKSCTL CREATED</span></span><span class="token-line" style="color:#393A34"><span class="token plain">rancher-server-cluster      us-west-2   True</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="5-install-an-ingress"></a>5. Install an Ingress<a class="hash-link" href="#5-install-an-ingress" title="Direct link to heading">#</a></h3><p>The cluster needs an Ingress so that Rancher can be accessed from outside the cluster.</p><p>The following command installs an <code>nginx-ingress-controller</code> with a LoadBalancer service. This will result in an ELB (Elastic Load Balancer) in front of NGINX:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ingress-nginx ingress-nginx/ingress-nginx \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace ingress-nginx \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --set controller.service.type=LoadBalancer \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --version 3.12.0 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --create-namespace</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="6-get-load-balancer-ip"></a>6. Get Load Balancer IP<a class="hash-link" href="#6-get-load-balancer-ip" title="Direct link to heading">#</a></h3><p>To get the address of the load balancer, run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get service ingress-nginx-controller --namespace=ingress-nginx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result should look similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">NAME                       TYPE           CLUSTER-IP     EXTERNAL-IP                                                              PORT(S)                     </span></span><span class="token-line" style="color:#393A34"><span class="token plain"> AGE</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx-controller   LoadBalancer   10.100.90.18   a904a952c73bf4f668a17c46ac7c56ab-962521486.us-west-2.elb.amazonaws.com   80:31229/TCP,443:31050/TCP  </span></span><span class="token-line" style="color:#393A34"><span class="token plain"> 27m</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Save the <code>EXTERNAL-IP</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="7-set-up-dns"></a>7. Set up DNS<a class="hash-link" href="#7-set-up-dns" title="Direct link to heading">#</a></h3><p>External traffic to the Rancher server will need to be directed at the load balancer you created.</p><p>Set up a DNS to point at the external IP that you saved. This DNS will be used as the Rancher server URL.</p><p>There are many valid ways to set up the DNS. For help, refer to the AWS documentation on <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-elb-load-balancer.html" target="_blank" rel="noopener noreferrer">routing traffic to an ELB load balancer.</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="8-install-the-rancher-helm-chart"></a>8. Install the Rancher Helm Chart<a class="hash-link" href="#8-install-the-rancher-helm-chart" title="Direct link to heading">#</a></h3><p>Next, install the Rancher Helm chart by following the instructions on <a href="https://rancher.com/docs/rancher/v2.6/en/installation/install-rancher-on-k8s/#install-the-rancher-helm-chart" target="_blank" rel="noopener noreferrer">this page.</a> The Helm instructions are the same for installing Rancher on any Kubernetes distribution.</p><p>Use that DNS name from the previous step as the Rancher server URL when you install Rancher. It can be passed in as a Helm option. For example, if the DNS name is <code>rancher.my.org</code>, you could run the Helm installation command with the option <code>--set hostname=rancher.my.org</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/versioned_docs/version-2.4.15/installation/install-rancher-on-k8s/amazon-eks.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rancher-docusaurus/installation/install-rancher-on-k8s/aks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Installing Rancher on Azure Kubernetes Service</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rancher-docusaurus/installation/install-rancher-on-k8s/chart-options"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rancher Helm Chart Options Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-prepare-your-workstation" class="table-of-contents__link">1. Prepare your Workstation</a></li><li><a href="#2-configure-the-aws-cli" class="table-of-contents__link">2. Configure the AWS CLI</a></li><li><a href="#3-create-the-eks-cluster" class="table-of-contents__link">3. Create the EKS Cluster</a></li><li><a href="#4-test-the-cluster" class="table-of-contents__link">4. Test the Cluster</a></li><li><a href="#5-install-an-ingress" class="table-of-contents__link">5. Install an Ingress</a></li><li><a href="#6-get-load-balancer-ip" class="table-of-contents__link">6. Get Load Balancer IP</a></li><li><a href="#7-set-up-dns" class="table-of-contents__link">7. Set up DNS</a></li><li><a href="#8-install-the-rancher-helm-chart" class="table-of-contents__link">8. Install the Rancher Helm Chart</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forums.rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.rancher.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Rancher_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher Website</a></li><li class="footer__item"><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/rancher/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js"></script>
<script src="/rancher-docusaurus/assets/js/main.ed945e9c.js"></script>
</body>
</html>