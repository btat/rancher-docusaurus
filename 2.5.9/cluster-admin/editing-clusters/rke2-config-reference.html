<!doctype html>
<html class="docs-version-2.5.9" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">RKE2 Cluster Configuration Reference (Tech Preview) | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke2-config-reference"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.5.9"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.5.9"><meta data-react-helmet="true" property="og:title" content="RKE2 Cluster Configuration Reference (Tech Preview) | My Site"><meta data-react-helmet="true" name="description" content="This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster."><meta data-react-helmet="true" property="og:description" content="This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster."><link data-react-helmet="true" rel="shortcut icon" href="/rancher-docusaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke2-config-reference"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke2-config-reference" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke2-config-reference" hreflang="x-default"><link rel="stylesheet" href="/rancher-docusaurus/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js" as="script">
<link rel="preload" href="/rancher-docusaurus/assets/js/main.ed945e9c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-docusaurus/"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Rancher Docs</b></a><a href="https://suse-projects.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>More SUSE Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rancher Deployment Quick Start Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installing/Upgrading Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backups and Disaster Recovery</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication, Permissions and Global Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setting up Kubernetes Clusters in Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cluster Administration</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/backing-up-etcd">Backing up a Cluster</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/certificate-rotation">Certificate Rotation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/cleaning-cluster-nodes">Removing Kubernetes Components from Nodes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/cloning-clusters">Cloning Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">cluster-access</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">cluster-autoscaler</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">editing-clusters</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/aks-config-reference">AKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/eks-config-reference">EKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">gke-config-reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/index">Cluster Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/k3s-config-reference">K3s Cluster Configuration Reference (Tech Preview)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke-config-reference">RKE Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke2-config-reference">RKE2 Cluster Configuration Reference (Tech Preview)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/syncing">Syncing</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/index">Intro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/nodes">Nodes and Node Pools</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/pod-security-policies">Assigning Pod Security Policies</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/pod-security-policy">Adding a Pod Security Policy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/projects-and-namespaces">Projects and Kubernetes Namespaces with Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/restoring-etcd">Restoring a Cluster from Backup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/tools">Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-admin/upgrading-kubernetes">Upgrading and Rolling Back Kubernetes</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">volumes-and-storage</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Project Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring and Alerting</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Istio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logging</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CIS Scans</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Settings</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/cli">Using the Rancher Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/contributing">Contributing to Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/helm-charts">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/longhorn">Longhorn - Cloud native distributed block storage for Kubernetes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/opa-gatekeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/system-tools">System Tools</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for My Site <b>2.5.9</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rancher-docusaurus/cluster-admin/editing-clusters/rke2-config-reference">latest version</a></b> (2.4.15).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.5.9</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RKE2 Cluster Configuration Reference (Tech Preview)</h1></header><p>This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster.</p><header><h1>Overview</h1></header><p>You can configure the Kubernetes options one of two ways:</p><ul><li><a href="#configuration-options-in-the-rancher-ui">Rancher UI</a>: Use the Rancher UI to select options that are commonly customized when setting up a Kubernetes cluster.</li><li><a href="#cluster-config-file">Cluster Config File</a>: Instead of using the Rancher UI to choose Kubernetes options for the cluster, advanced users can create an RKE2 config file. Using a config file allows you to set any of the <a href="https://docs.rke2.io/install/install_options/install_options" target="_blank" rel="noopener noreferrer">options</a> available in an RKE2 installation.</li></ul><header><h1>Configuration Options in the Rancher UI</h1></header><p>&gt; Some advanced configuration options are not exposed in the Rancher UI forms, but they can be enabled by editing the RKE2 cluster configuration file in YAML. For the complete reference of configurable options for RKE2 Kubernetes clusters in YAML, see the <a href="https://docs.rke2.io/install/install_options/install_options/" target="_blank" rel="noopener noreferrer">RKE2 documentation.</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="basics"></a>Basics<a class="hash-link" href="#basics" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="kubernetes-version"></a>Kubernetes Version<a class="hash-link" href="#kubernetes-version" title="Direct link to heading">#</a></h4><p>The version of Kubernetes installed on your cluster nodes. Rancher packages its own version of Kubernetes based on <a href="https://github.com/rancher/hyperkube" target="_blank" rel="noopener noreferrer">hyperkube</a>.</p><p>For more detail, see <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-admin/upgrading-kubernetes" target="_blank" rel="noopener noreferrer">Upgrading Kubernetes</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="container-network-provider"></a>Container Network Provider<a class="hash-link" href="#container-network-provider" title="Direct link to heading">#</a></h4><p>The <a href="https://kubernetes.io/docs/concepts/cluster-administration/networking/" target="_blank" rel="noopener noreferrer">Network Provider</a> that the cluster uses.</p><p>&gt; After you launch the cluster, you cannot change your network provider. Therefore, choose which network provider you want to use carefully, as Kubernetes doesn&#x27;t allow switching between network providers. Once a cluster is created with a network provider, changing network providers would require you  tear down the entire cluster and all its applications.</p><p>Out of the box, Rancher is compatible with the following network providers:</p><ul><li><a href="https://github.com/projectcalico/canal" target="_blank" rel="noopener noreferrer">Canal</a></li><li><a href="https://cilium.io/" target="_blank" rel="noopener noreferrer">Cilium</a></li><li><a href="https://docs.projectcalico.org/v3.11/introduction/" target="_blank" rel="noopener noreferrer">Calico</a></li><li><a href="https://github.com/k8snetworkplumbingwg/multus-cni" target="_blank" rel="noopener noreferrer">Multus</a></li></ul><p>For more details on the different networking providers and how to configure them, please view our <a href="https://docs.rke2.io/install/network_options/" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cloud-provider"></a>Cloud Provider<a class="hash-link" href="#cloud-provider" title="Direct link to heading">#</a></h4><p>You can configure a <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/cloud-providers" target="_blank" rel="noopener noreferrer">Kubernetes cloud provider</a>. If you want to use dynamically provisioned <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-admin/volumes-and-storage/" target="_blank" rel="noopener noreferrer">volumes and storage</a> in Kubernetes, typically you must select the specific cloud provider in order to use it. For example, if you want to use Amazon EBS, you would need to select the <code>aws</code> cloud provider.</p><p>&gt;<strong>Note:</strong> If the cloud provider you want to use is not listed as an option, you will need to use the <a href="#cluster-config-file">config file option</a> to configure the cloud provider. Please reference <a href="https://rancher.com/docs/rke/latest/en/config-options/cloud-providers/" target="_blank" rel="noopener noreferrer">this documentation</a> on how to configure the cloud provider.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="default-pod-security-policy"></a>Default Pod Security Policy<a class="hash-link" href="#default-pod-security-policy" title="Direct link to heading">#</a></h4><p>Choose the default <a href="https://rancher.com/docs/rancher/v2.6/en/admin-settings/pod-security-policies/" target="_blank" rel="noopener noreferrer">pod security policy</a> for the cluster. Please refer to the <a href="https://docs.rke2.io/security/policies/" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> on the specifications of each available policy.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="worker-cis-profile"></a>Worker CIS Profile<a class="hash-link" href="#worker-cis-profile" title="Direct link to heading">#</a></h4><p>Select a <a href="https://rancher.com/docs/rancher/v2.6/en/cis-scans/" target="_blank" rel="noopener noreferrer">CIS benchmark</a> to validate the system configuration against.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="project-network-isolation"></a>Project Network Isolation<a class="hash-link" href="#project-network-isolation" title="Direct link to heading">#</a></h4><p>If your network provider allows project network isolation, you can choose whether to enable or disable inter-project communication.</p><p>Project network isolation is available if you are using any RKE2 network plugin that supports the enforcement of Kubernetes network policies, such as Canal.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="selinux"></a>SELinux<a class="hash-link" href="#selinux" title="Direct link to heading">#</a></h4><p>Option to enable or disable <a href="https://docs.rke2.io/security/selinux" target="_blank" rel="noopener noreferrer">SELinux</a> support.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="coredns"></a>CoreDNS<a class="hash-link" href="#coredns" title="Direct link to heading">#</a></h4><p>By default, <a href="https://coredns.io/" target="_blank" rel="noopener noreferrer">CoreDNS</a> is installed as the default DNS provider. If CoreDNS is not installed, an alternate DNS provider must be installed yourself. Refer to the <a href="https://docs.rke2.io/networking/#coredns" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional CoreDNS configurations.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="nginx-ingress"></a>NGINX Ingress<a class="hash-link" href="#nginx-ingress" title="Direct link to heading">#</a></h4><p>If you want to publish your applications in a high-availability configuration, and you&#x27;re hosting your nodes with a cloud-provider that doesn&#x27;t have a native load-balancing feature, enable this option to use NGINX Ingress within the cluster. Refer to the <a href="https://docs.rke2.io/networking/#nginx-ingress-controller" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional configuration options.</p><p>Refer to the <a href="https://docs.rke2.io/networking/#nginx-ingress-controller" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional configuration options.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="metrics-server"></a>Metrics Server<a class="hash-link" href="#metrics-server" title="Direct link to heading">#</a></h4><p>Option to enable or disable <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/metrics-server/" target="_blank" rel="noopener noreferrer">Metrics Server</a>.</p><p>Each cloud provider capable of launching a cluster using RKE2 can collect metrics and monitor for your cluster nodes. Enable this option to view your node metrics from your cloud provider&#x27;s portal.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="add-on-config"></a>Add-On Config<a class="hash-link" href="#add-on-config" title="Direct link to heading">#</a></h3><p>Additional Kubernetes manifests, managed as a <a href="https://kubernetes.io/docs/concepts/cluster-administration/addons/" target="_blank" rel="noopener noreferrer">Add-on</a>, to apply to the cluster on startup. Refer to the <a href="https://docs.rke2.io/helm/#automatically-deploying-manifests-and-helm-charts" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="agent-environment-vars"></a>Agent Environment Vars<a class="hash-link" href="#agent-environment-vars" title="Direct link to heading">#</a></h3><p>Option to set environment variables for <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/rancher-agents/" target="_blank" rel="noopener noreferrer">Rancher agents</a>. The environment variables can be set using key value pairs. Refer to the <a href="https://docs.rke2.io/install/install_options/linux_agent_config/" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="etcd"></a>etcd<a class="hash-link" href="#etcd" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="automatic-snapshots"></a>Automatic Snapshots<a class="hash-link" href="#automatic-snapshots" title="Direct link to heading">#</a></h4><p>Option to enable or disable recurring etcd snapshots. If enabled, users have the option to configure the frequency of snapshots. For details, refer to the <a href="https://docs.rke2.io/backup_restore/#creating-snapshots" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="metrics"></a>Metrics<a class="hash-link" href="#metrics" title="Direct link to heading">#</a></h4><p>Option to choose whether to expose etcd metrics to the public or only within the cluster.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="networking"></a>Networking<a class="hash-link" href="#networking" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cluster-cidr"></a>Cluster CIDR<a class="hash-link" href="#cluster-cidr" title="Direct link to heading">#</a></h4><p>IPv4/IPv6 network CIDRs to use for pod IPs (default: 10.42.0.0/16).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="service-cidr"></a>Service CIDR<a class="hash-link" href="#service-cidr" title="Direct link to heading">#</a></h4><p>IPv4/IPv6 network CIDRs to use for service IPs (default: 10.43.0.0/16).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cluster-dns"></a>Cluster DNS<a class="hash-link" href="#cluster-dns" title="Direct link to heading">#</a></h4><p>IPv4 Cluster IP for coredns service. Should be in your service-cidr range (default: 10.43.0.10).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="cluster-domain"></a>Cluster Domain<a class="hash-link" href="#cluster-domain" title="Direct link to heading">#</a></h4><p>Select the domain for the cluster. The default is <code>cluster.local</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="nodeport-service-port-range"></a>NodePort Service Port Range<a class="hash-link" href="#nodeport-service-port-range" title="Direct link to heading">#</a></h4><p>Option to change the range of ports that can be used for <a href="https://kubernetes.io/docs/concepts/services-networking/service/#nodeport" target="_blank" rel="noopener noreferrer">NodePort services</a>. The default is <code>30000-32767</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="tls-alternate-names"></a>TLS Alternate Names<a class="hash-link" href="#tls-alternate-names" title="Direct link to heading">#</a></h4><p>Add additional hostnames or IPv4/IPv6 addresses as Subject Alternative Names on the server TLS cert.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="authorized-cluster-endpoint"></a>Authorized Cluster Endpoint<a class="hash-link" href="#authorized-cluster-endpoint" title="Direct link to heading">#</a></h4><p>Authorized Cluster Endpoint can be used to directly access the Kubernetes API server, without requiring communication through Rancher.</p><p>This is enabled by default in Rancher-launched Kubernetes clusters, using the IP of the node with the <code>controlplane</code> role and the default Kubernetes self signed certificates.</p><p>For more detail on how an authorized cluster endpoint works and why it is used, refer to the <a href="https://rancher.com/docs/rancher/v2.6/en/overview/architecture/#4-authorized-cluster-endpoint" target="_blank" rel="noopener noreferrer">architecture section.</a></p><p>We recommend using a load balancer with the authorized cluster endpoint. For details, refer to the <a href="https://rancher.com/docs/rancher/v2.6/en/overview/architecture-recommendations/#architecture-for-an-authorized-cluster-endpoint" target="_blank" rel="noopener noreferrer">recommended architecture section.</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="registries"></a>Registries<a class="hash-link" href="#registries" title="Direct link to heading">#</a></h3><p>Select the image repository to pull Rancher images from. For more details and configuration options, see the <a href="https://docs.rke2.io/install/containerd_registry_configuration/" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="upgrade-strategy"></a>Upgrade Strategy<a class="hash-link" href="#upgrade-strategy" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="controle-plane-concurrency"></a>Controle Plane Concurrency<a class="hash-link" href="#controle-plane-concurrency" title="Direct link to heading">#</a></h4><p>Select how many nodes can be upgraded at the same time. Can be a fixed number or percentage.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="worker-concurrency"></a>Worker Concurrency<a class="hash-link" href="#worker-concurrency" title="Direct link to heading">#</a></h4><p>Select how many nodes can be upgraded at the same time. Can be a fixed number or percentage.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="drain-nodes-control-plane"></a>Drain Nodes (Control Plane)<a class="hash-link" href="#drain-nodes-control-plane" title="Direct link to heading">#</a></h4><p>Option to remove all pods from the node prior to upgrading.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="drain-nodes-worker-nodes"></a>Drain Nodes (Worker Nodes)<a class="hash-link" href="#drain-nodes-worker-nodes" title="Direct link to heading">#</a></h4><p>Option to remove all pods from the node prior to upgrading.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="advanced"></a>Advanced<a class="hash-link" href="#advanced" title="Direct link to heading">#</a></h3><p>Option to set kubelet options for different nodes. For available options, refer to the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/" target="_blank" rel="noopener noreferrer">Kubernetes documentation</a>.</p><header><h1>Cluster Config File</h1></header><p>Instead of using the Rancher UI forms to choose Kubernetes options for the cluster, advanced users can create an RKE2 config file. Using a config file allows you to set any of the <a href="https://docs.rke2.io/install/install_options/install_options" target="_blank" rel="noopener noreferrer">options</a> available in an RKE2 installation.</p><p>To edit an RKE2 config file directly from the Rancher UI, click <strong>Edit as YAML</strong>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/versioned_docs/version-2.5.9/cluster-admin/editing-clusters/rke2-config-reference.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/rke-config-reference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« RKE Cluster Configuration Reference</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rancher-docusaurus/2.5.9/cluster-admin/editing-clusters/syncing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Syncing Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basics" class="table-of-contents__link">Basics</a></li><li><a href="#add-on-config" class="table-of-contents__link">Add-On Config</a></li><li><a href="#agent-environment-vars" class="table-of-contents__link">Agent Environment Vars</a></li><li><a href="#etcd" class="table-of-contents__link">etcd</a></li><li><a href="#networking" class="table-of-contents__link">Networking</a></li><li><a href="#registries" class="table-of-contents__link">Registries</a></li><li><a href="#upgrade-strategy" class="table-of-contents__link">Upgrade Strategy</a></li><li><a href="#advanced" class="table-of-contents__link">Advanced</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forums.rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.rancher.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Rancher_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher Website</a></li><li class="footer__item"><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/rancher/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js"></script>
<script src="/rancher-docusaurus/assets/js/main.ed945e9c.js"></script>
</body>
</html>