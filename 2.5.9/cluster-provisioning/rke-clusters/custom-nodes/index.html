<!doctype html>
<html class="docs-version-2.5.9" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Launching Kubernetes on Existing Custom Nodes | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.5.9"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.5.9"><meta data-react-helmet="true" property="og:title" content="Launching Kubernetes on Existing Custom Nodes | My Site"><meta data-react-helmet="true" name="description" content="To create a cluster with custom nodes, youâ€™ll need to access servers in your cluster and provision them according to Rancher requirements"><meta data-react-helmet="true" property="og:description" content="To create a cluster with custom nodes, youâ€™ll need to access servers in your cluster and provision them according to Rancher requirements"><link data-react-helmet="true" rel="shortcut icon" href="/rancher-docusaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://btat.github.io/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index" hreflang="x-default"><link rel="stylesheet" href="/rancher-docusaurus/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js" as="script">
<link rel="preload" href="/rancher-docusaurus/assets/js/main.ed945e9c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rancher-docusaurus/"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/rancher-docusaurus/img/rancher-logo.svg" alt="Rancher Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Rancher Docs</b></a><a href="https://suse-projects.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>More SUSE Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rancher Deployment Quick Start Guides</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installing/Upgrading Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Backups and Disaster Recovery</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication, Permissions and Global Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Setting up Kubernetes Clusters in Rancher</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/cluster-capabilities-table">cluster-capabilities-table</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">hosted-kubernetes-clusters</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/index">Intro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/node-requirements">Node Requirements for Rancher Managed Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">production</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/registered-clusters">Registering Existing Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">rke-clusters</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">cloud-providers</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">custom-nodes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/agent-options">Rancher Agent Options</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index">Launching Kubernetes on Existing Custom Nodes</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/index">Launching Kubernetes with Rancher</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">node-pools</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/options">RKE Cluster Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/rancher-agents">Rancher Agents</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">windows-clusters</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cluster Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Project Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pipelines</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring and Alerting</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Istio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logging</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">CIS Scans</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Settings</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/cli">Using the Rancher Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/contributing">Contributing to Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/helm-charts">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/longhorn">Longhorn - Cloud native distributed block storage for Kubernetes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/opa-gatekeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/rancher-docusaurus/2.5.9/system-tools">System Tools</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for My Site <b>2.5.9</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rancher-docusaurus/cluster-provisioning/rke-clusters/custom-nodes/index">latest version</a></b> (2.4.15).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.5.9</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Launching Kubernetes on Existing Custom Nodes</h1></header><p>When you create a custom cluster, Rancher uses RKE (the Rancher Kubernetes Engine) to create a Kubernetes cluster in on-prem bare-metal servers, on-prem virtual machines, or in any node hosted by an infrastructure provider.</p><p>To use this option you&#x27;ll need access to servers you intend to use in your Kubernetes cluster. Provision each server according to the <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/node-requirements" target="_blank" rel="noopener noreferrer">requirements</a>, which includes some hardware specifications and Docker. After you install Docker on each server, you willl also run the command provided in the Rancher UI on each server to turn each one into a Kubernetes node.</p><p>This section describes how to set up a custom cluster.</p><header><h1>Creating a Cluster with Custom Nodes</h1></header><p>&gt;<strong>Want to use Windows hosts as Kubernetes workers?</strong>
&gt;
&gt;See <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/windows-clusters/" target="_blank" rel="noopener noreferrer">Configuring Custom Clusters for Windows</a> before you start.</p><p>\&lt;!-- TOC --&gt;</p><ul><li><a href="#1-provision-a-linux-host">1. Provision a Linux Host</a></li><li><a href="#2-create-the-custom-cluster">2. Create the Custom Cluster</a></li><li><a href="#3-amazon-only-tag-resources">3. Amazon Only: Tag Resources</a></li></ul><p>\&lt;!-- /TOC --&gt;</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="1-provision-a-linux-host"></a>1. Provision a Linux Host<a class="hash-link" href="#1-provision-a-linux-host" title="Direct link to heading">#</a></h3><p>Begin creation of a custom cluster by provisioning a Linux host. Your host can be:</p><ul><li>A cloud-host virtual machine (VM)</li><li>An on-prem VM</li><li>A bare-metal server</li></ul><p>If you want to reuse a node from a previous custom cluster, <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-admin/cleaning-cluster-nodes/" target="_blank" rel="noopener noreferrer">clean the node</a> before using it in a cluster again. If you reuse a node that hasn&#x27;t been cleaned, cluster provisioning may fail.</p><p>Provision the host according to the <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/node-requirements" target="_blank" rel="noopener noreferrer">installation requirements</a> and the <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/production" target="_blank" rel="noopener noreferrer">checklist for production-ready clusters.</a></p><p>If you&#x27;re using Amazon EC2 as your host and want to use the <a href="https://kubernetes.io/docs/concepts/services-networking/dual-stack/" target="_blank" rel="noopener noreferrer">dual-stack</a> feature, there are additional <a href="https://rancher.com/docs/rke//latest/en/config-options/dual-stack#requirements" target="_blank" rel="noopener noreferrer">requirements</a> when provisioning the host.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="2-create-the-custom-cluster"></a>2. Create the Custom Cluster<a class="hash-link" href="#2-create-the-custom-cluster" title="Direct link to heading">#</a></h3><ol><li><p>Click <strong>â˜° &gt; Cluster Management</strong>.</p></li><li><p>On the <strong>Clusters</strong> page, click <strong>Create</strong>.</p></li><li><p>Click <strong>Custom</strong>.</p></li><li><p>Enter a <strong>Cluster Name</strong>.</p></li><li><p>Use <strong>Cluster Configuration</strong> section to choose the version of Kubernetes, what network provider will be used and if you want to enable project network isolation. To see more cluster options, click on <strong>Show advanced options</strong>.</p><p>&gt;<strong>Using Windows nodes as Kubernetes workers?</strong>
&gt;
&gt;- See <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/windows-clusters/" target="_blank" rel="noopener noreferrer">Enable the Windows Support Option</a>.
&gt;- The only Network Provider available for clusters with Windows support is Flannel.
&gt;
&gt;<strong>Dual-stack on Amazon EC2:</strong> If you&#x27;re using Amazon EC2 as your host and want to use the <a href="https://kubernetes.io/docs/concepts/services-networking/dual-stack/" target="_blank" rel="noopener noreferrer">dual-stack</a> feature, there are additional <a href="https://rancher.com/docs/rke//latest/en/config-options/dual-stack#requirements" target="_blank" rel="noopener noreferrer">requirements</a> when configuring RKE.</p></li><li><p>\&lt;a id=&quot;step-6&quot;&gt;\&lt;/a&gt;Click <strong>Next</strong>.</p></li><li><p>Use <strong>Member Roles</strong> to configure user authorization for the cluster. Click <strong>Add Member</strong> to add users that can access the cluster. Use the <strong>Role</strong> drop-down to set permissions for each user.</p></li><li><p>From <strong>Node Role</strong>, choose the roles that you want filled by a cluster node. You must provision at least one node for each role: <code>etcd</code>, <code>worker</code>, and <code>control plane</code>. All three roles are required for a custom cluster to finish provisioning. For more information on roles, see <a href="https://rancher.com/docs/rancher/v2.6/en/overview/concepts/#roles-for-nodes-in-kubernetes-clusters" target="_blank" rel="noopener noreferrer">this section.</a></p><p>&gt;<strong>Notes:</strong>
&gt;
&gt;- Using Windows nodes as Kubernetes workers? See <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/windows-clusters/" target="_blank" rel="noopener noreferrer">this section</a>.
&gt;- Bare-Metal Server Reminder: If you plan on dedicating bare-metal servers to each role, you must provision a bare-metal server for each role (i.e. provision multiple bare-metal servers).</p></li><li><p>\&lt;a id=&quot;step-8&quot;&gt;\&lt;/a&gt;<strong>Optional</strong>: Click <strong><a href="https://rancher.com/docs/rancher/v2.6/en/cluster-provisioning/rke-clusters/rancher-agents/" target="_blank" rel="noopener noreferrer">Show advanced options</a></strong> to specify IP address(es) to use when registering the node, override the hostname of the node, or to add <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener noreferrer">labels</a> or <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" target="_blank" rel="noopener noreferrer">taints</a> to the node.</p></li><li><p>Copy the command displayed on screen to your clipboard.</p></li><li><p>Log in to your Linux host using your preferred shell, such as PuTTy or a remote Terminal connection. Run the command copied to your clipboard.</p><p>&gt;<strong>Note:</strong> Repeat steps 7-10 if you want to dedicate specific hosts to specific node roles. Repeat the steps as many times as needed.</p></li><li><p>When you finish running the command(s) on your Linux host(s), click <strong>Done</strong>.</p></li></ol><p><strong>Result:</strong> </p><p>Your cluster is created and assigned a state of <strong>Provisioning</strong>. Rancher is standing up your cluster.</p><p>You can access your cluster after its state is updated to <strong>Active</strong>.</p><p><strong>Active</strong> clusters are assigned two Projects: </p><ul><li><code>Default</code>, containing the <code>default</code> namespace</li><li><code>System</code>, containing the <code>cattle-system</code>, <code>ingress-nginx</code>, <code>kube-public</code>, and <code>kube-system</code> namespaces</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="3-amazon-only-tag-resources"></a>3. Amazon Only: Tag Resources<a class="hash-link" href="#3-amazon-only-tag-resources" title="Direct link to heading">#</a></h3><p>If you have configured your cluster to use Amazon as <strong>Cloud Provider</strong>, tag your AWS resources with a cluster ID.</p><p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html" target="_blank" rel="noopener noreferrer">Amazon Documentation: Tagging Your Amazon EC2 Resources</a></p><p>&gt;<strong>Note:</strong> You can use Amazon EC2 instances without configuring a cloud provider in Kubernetes. You only have to configure the cloud provider if you want to use specific Kubernetes cloud provider functionality. For more information, see <a href="https://kubernetes.io/docs/concepts/cluster-administration/cloud-providers/" target="_blank" rel="noopener noreferrer">Kubernetes Cloud Providers</a></p><p>The following resources need to be tagged with a <code>ClusterID</code>:</p><ul><li><p><strong>Nodes</strong>: All hosts added in Rancher.</p></li><li><p><strong>Subnet</strong>: The subnet used for your cluster</p></li><li><p><strong>Security Group</strong>: The security group used for your cluster.</p><p>&gt;<strong>Note:</strong> Do not tag multiple security groups. Tagging multiple groups generates an error when creating Elastic Load Balancer.</p></li></ul><p>The tag that should be used is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Key=kubernetes.io/cluster/\&lt;CLUSTERID\&gt;, Value=owned</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>\&lt;CLUSTERID\&gt;</code> can be any string you choose. However, the same string must be used on every resource you tag. Setting the tag value to <code>owned</code> informs the cluster that all resources tagged with the <code>\&lt;CLUSTERID\&gt;</code> are owned and managed by this cluster.</p><p>If you share resources between clusters, you can change the tag to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Key=kubernetes.io/cluster/CLUSTERID, Value=shared</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><header><h1>Optional Next Steps</h1></header><p>After creating your cluster, you can access it through the Rancher UI. As a best practice, we recommend setting up these alternate ways of accessing your cluster:</p><ul><li><strong>Access your cluster with the kubectl CLI:</strong> Follow <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-admin/cluster-access/kubectl/#accessing-clusters-with-kubectl-on-your-workstation" target="_blank" rel="noopener noreferrer">these steps</a> to access clusters with kubectl on your workstation. In this case, you will be authenticated through the Rancher serverâ€™s authentication proxy, then Rancher will connect you to the downstream cluster. This method lets you manage the cluster without the Rancher UI.</li><li><strong>Access your cluster with the kubectl CLI, using the authorized cluster endpoint:</strong> Follow <a href="https://rancher.com/docs/rancher/v2.6/en/cluster-admin/cluster-access/kubectl/#authenticating-directly-with-a-downstream-cluster" target="_blank" rel="noopener noreferrer">these steps</a> to access your cluster with kubectl directly, without authenticating through Rancher. We recommend setting up this alternative method to access your cluster so that in case you canâ€™t connect to Rancher, you can still access the cluster.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/versioned_docs/version-2.5.9/cluster-provisioning/rke-clusters/custom-nodes/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/custom-nodes/agent-options"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Rancher Agent Options</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rancher-docusaurus/2.5.9/cluster-provisioning/rke-clusters/index"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Launching Kubernetes with Rancher Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-provision-a-linux-host" class="table-of-contents__link">1. Provision a Linux Host</a></li><li><a href="#2-create-the-custom-cluster" class="table-of-contents__link">2. Create the Custom Cluster</a></li><li><a href="#3-amazon-only-tag-resources" class="table-of-contents__link">3. Amazon Only: Tag Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forums.rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.rancher.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Rancher_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://rancher.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher Website</a></li><li class="footer__item"><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/rancher/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Rancher Docs on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/rancher-docusaurus/assets/js/runtime~main.e49194ca.js"></script>
<script src="/rancher-docusaurus/assets/js/main.ed945e9c.js"></script>
</body>
</html>