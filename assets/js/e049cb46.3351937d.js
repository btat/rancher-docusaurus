"use strict";(self.webpackChunkrancher_docusaurus=self.webpackChunkrancher_docusaurus||[]).push([[4331],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return h}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),u=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=u(r),h=n,g=m["".concat(l,".").concat(h)]||m[h]||p[h]||o;return r?a.createElement(g,i(i({ref:t},c),{},{components:r})):a.createElement(g,i({ref:t},c))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var u=2;u<o;u++)i[u]=r[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6355:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return m}});var a=r(7462),n=r(3366),o=(r(7294),r(3905)),i=["components"],s={title:"Built-in Dashboards",position:3},l=void 0,u={unversionedId:"monitoring-alerting/dashboards",id:"monitoring-alerting/dashboards",isDocsHomePage:!1,title:"Built-in Dashboards",description:"- Grafana UI",source:"@site/docs/monitoring-alerting/dashboards.md",sourceDirName:"monitoring-alerting",slug:"/monitoring-alerting/dashboards",permalink:"/rancher-docusaurus/monitoring-alerting/dashboards",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/monitoring-alerting/dashboards.md",tags:[],version:"current",frontMatter:{title:"Built-in Dashboards",position:3},sidebar:"tutorialSidebar",previous:{title:"ServiceMonitor and PodMonitor Configuration",permalink:"/rancher-docusaurus/monitoring-alerting/configuration/servicemonitor-podmonitor"},next:{title:"PromQL Expression Reference",permalink:"/rancher-docusaurus/monitoring-alerting/expression"}},c=[{value:"Customizing Grafana",id:"customizing-grafana",children:[]},{value:"Persistent Grafana Dashboards",id:"persistent-grafana-dashboards",children:[]},{value:"Access to Grafana",id:"access-to-grafana",children:[]},{value:"Accessing the Alertmanager UI",id:"accessing-the-alertmanager-ui",children:[]},{value:"Viewing Default Alerts",id:"viewing-default-alerts",children:[]},{value:"Viewing the Prometheus Targets",id:"viewing-the-prometheus-targets",children:[]},{value:"Viewing the PrometheusRules",id:"viewing-the-prometheusrules",children:[]}],p={toc:c};function m(e){var t=e.components,r=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#grafana-ui"},"Grafana UI")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#alertmanager-ui"},"Alertmanager UI")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#prometheus-ui"},"Prometheus UI"))),(0,o.kt)("h1",{id:"grafana-ui"},"Grafana UI"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/grafana/"},"Grafana")," allows you to query, visualize, alert on and understand your metrics no matter where they are stored. Create, explore, and share dashboards with your team and foster a data driven culture."),(0,o.kt)("p",null,"To see the default dashboards for time series data visualization, go to the Grafana UI."),(0,o.kt)("h3",{id:"customizing-grafana"},"Customizing Grafana"),(0,o.kt)("p",null,"To view and customize the PromQL queries powering the Grafana dashboard, see ",(0,o.kt)("a",{parentName:"p",href:"../guides/customize-grafana"},"this page.")),(0,o.kt)("h3",{id:"persistent-grafana-dashboards"},"Persistent Grafana Dashboards"),(0,o.kt)("p",null,"To create a persistent Grafana dashboard, see ",(0,o.kt)("a",{parentName:"p",href:"../guides/persist-grafana"},"this page.")),(0,o.kt)("h3",{id:"access-to-grafana"},"Access to Grafana"),(0,o.kt)("p",null,"For information about role-based access control for Grafana, see ",(0,o.kt)("a",{parentName:"p",href:"../rbac/#role-based-access-control-for-grafana"},"this section.")),(0,o.kt)("h1",{id:"alertmanager-ui"},"Alertmanager UI"),(0,o.kt)("p",null,"When ",(0,o.kt)("inlineCode",{parentName:"p"},"rancher-monitoring")," is installed, the Prometheus Alertmanager UI is deployed, allowing you to view your alerts and the current Alertmanager configuration."),(0,o.kt)("p",null,">"," This section assumes familiarity with how monitoring components work together. For more information about Alertmanager, see ",(0,o.kt)("a",{parentName:"p",href:"../how-monitoring-works/#how-alertmanager-works"},"this section.")),(0,o.kt)("h3",{id:"accessing-the-alertmanager-ui"},"Accessing the Alertmanager UI"),(0,o.kt)("p",null,"The Alertmanager UI lets you see the most recently fired alerts."),(0,o.kt)("p",null,">"," ",(0,o.kt)("strong",{parentName:"p"},"Prerequisite:")," The ",(0,o.kt)("inlineCode",{parentName:"p"},"rancher-monitoring")," application must be installed."),(0,o.kt)("p",null,"To see the Alertmanager UI,"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the upper left corner, click ",(0,o.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Clusters")," page, go to the cluster where you want to see the Alertmanager UI, click ",(0,o.kt)("strong",{parentName:"li"},"Explore"),"."),(0,o.kt)("li",{parentName:"ol"},"In the left navigation bar, click ",(0,o.kt)("strong",{parentName:"li"},"Monitoring"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Alertmanager"),".")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Result:")," The Alertmanager UI opens in a new tab. For help with configuration, refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://prometheus.io/docs/alerting/latest/alertmanager/"},"official Alertmanager documentation.")),(0,o.kt)("p",null,"For more information on configuring Alertmanager in Rancher, see ",(0,o.kt)("a",{parentName:"p",href:"../configuration/advanced/alertmanager"},"this page.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-img"},"\\<figcaption\\>The Alertmanager UI\\</figcaption\\>\n![Alertmanager UI](./assets/img/rancher/alertmanager-ui.png)\n")),(0,o.kt)("h3",{id:"viewing-default-alerts"},"Viewing Default Alerts"),(0,o.kt)("p",null,"To see alerts that are fired by default, go to the Alertmanager UI and click ",(0,o.kt)("strong",{parentName:"p"},"Expand all groups"),"."),(0,o.kt)("h1",{id:"prometheus-ui"},"Prometheus UI"),(0,o.kt)("p",null,"By default, the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kube-state-metrics"},"kube-state-metrics service")," provides a wealth of information about CPU and memory utilization to the monitoring application. These metrics cover Kubernetes resources across namespaces. This means that in order to see resource metrics for a service, you don't need to create a new ServiceMonitor for it. Because the data is already in the time series database, you can go to the Prometheus UI and run a PromQL query to get the information. The same query can be used to configure a Grafana dashboard to show a graph of those metrics over time."),(0,o.kt)("p",null,"To see the Prometheus UI, install ",(0,o.kt)("inlineCode",{parentName:"p"},"rancher-monitoring"),". Then:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the upper left corner, click ",(0,o.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Clusters")," page, go to the cluster where you want to see the Prometheus UI and click ",(0,o.kt)("strong",{parentName:"li"},"Explore"),"."),(0,o.kt)("li",{parentName:"ol"},"In the left navigation bar, click ",(0,o.kt)("strong",{parentName:"li"},"Monitoring"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Prometheus Graph"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-img"},"\\<figcaption\\>Prometheus Graph UI\\</figcaption\\>\n![Prometheus Graph UI](./assets/img/rancher/prometheus-graph-ui.png)\n")),(0,o.kt)("h3",{id:"viewing-the-prometheus-targets"},"Viewing the Prometheus Targets"),(0,o.kt)("p",null,"To see what services you are monitoring, you will need to see your targets. Targets are set up by ServiceMonitors and PodMonitors as sources to scrape metrics from. You won't need to directly edit targets, but the Prometheus UI can be useful for giving you an overview of all of the sources of metrics that are being scraped."),(0,o.kt)("p",null,"To see the Prometheus Targets, install ",(0,o.kt)("inlineCode",{parentName:"p"},"rancher-monitoring"),". Then:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the upper left corner, click ",(0,o.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Clusters")," page, go to the cluster where you want to see the Prometheus targets and click ",(0,o.kt)("strong",{parentName:"li"},"Explore"),"."),(0,o.kt)("li",{parentName:"ol"},"In the left navigation bar, click ",(0,o.kt)("strong",{parentName:"li"},"Monitoring"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Prometheus Targets"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-img"},"\\<figcaption\\>Targets in the Prometheus UI\\</figcaption\\>\n![Prometheus Targets UI](./assets/img/rancher/prometheus-targets-ui.png)\n")),(0,o.kt)("h3",{id:"viewing-the-prometheusrules"},"Viewing the PrometheusRules"),(0,o.kt)("p",null,"When you define a Rule (which is declared within a RuleGroup in a PrometheusRule resource), the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#rule"},"spec of the Rule itself")," contains labels that are used by Alertmanager to figure out which Route should receive a certain Alert."),(0,o.kt)("p",null,"To see the PrometheusRules, install ",(0,o.kt)("inlineCode",{parentName:"p"},"rancher-monitoring"),". Then:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the upper left corner, click ",(0,o.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Clusters")," page, go to the cluster where you want to see the visualizations and click ",(0,o.kt)("strong",{parentName:"li"},"Explore"),"."),(0,o.kt)("li",{parentName:"ol"},"In the left navigation bar, click ",(0,o.kt)("strong",{parentName:"li"},"Monitoring"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Prometheus Rules"),".")),(0,o.kt)("p",null,"You can also see the rules in the Prometheus UI:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-img"},"\\<figcaption\\>Rules in the Prometheus UI\\</figcaption\\>\n![PrometheusRules UI](./assets/img/rancher/prometheus-rules-ui.png)\n")),(0,o.kt)("p",null,"For more information on configuring PrometheusRules in Rancher, see ",(0,o.kt)("a",{parentName:"p",href:"../configuration/advanced/prometheusrules"},"this page.")))}m.isMDXComponent=!0}}]);