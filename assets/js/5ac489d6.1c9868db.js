"use strict";(self.webpackChunkrancher_docusaurus=self.webpackChunkrancher_docusaurus||[]).push([[2241],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(r),m=a,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return r?n.createElement(h,o(o({ref:t},u),{},{components:r})):n.createElement(h,o({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5639:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=["components"],l={title:"Creating an Aliyun ACK Cluster",shortTitle:"Alibaba Cloud Container Service for Kubernetes",position:2120},s=void 0,c={unversionedId:"cluster-provisioning/hosted-kubernetes-clusters/ack",id:"cluster-provisioning/hosted-kubernetes-clusters/ack",isDocsHomePage:!1,title:"Creating an Aliyun ACK Cluster",description:"You can use Rancher to create a cluster hosted in Alibaba Cloud Kubernetes (ACK). Rancher has already implemented and packaged the cluster driver for ACK, but by default, this cluster driver is inactive. In order to launch ACK clusters, you will need to enable the ACK cluster driver. After enabling the cluster driver, you can start provisioning ACK clusters.",source:"@site/docs/cluster-provisioning/hosted-kubernetes-clusters/ack.md",sourceDirName:"cluster-provisioning/hosted-kubernetes-clusters",slug:"/cluster-provisioning/hosted-kubernetes-clusters/ack",permalink:"/rancher-docusaurus/cluster-provisioning/hosted-kubernetes-clusters/ack",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/cluster-provisioning/hosted-kubernetes-clusters/ack.md",tags:[],version:"current",frontMatter:{title:"Creating an Aliyun ACK Cluster",shortTitle:"Alibaba Cloud Container Service for Kubernetes",position:2120},sidebar:"tutorialSidebar",previous:{title:"cluster-capabilities-table",permalink:"/rancher-docusaurus/cluster-provisioning/cluster-capabilities-table"},next:{title:"Creating an AKS Cluster",permalink:"/rancher-docusaurus/cluster-provisioning/hosted-kubernetes-clusters/aks"}},u=[],p={toc:u};function d(e){var t=e.components,r=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"You can use Rancher to create a cluster hosted in Alibaba Cloud Kubernetes (ACK). Rancher has already implemented and packaged the ",(0,i.kt)("a",{parentName:"p",href:"https://rancher.com/docs/rancher/v2.6/en/admin-settings/drivers/cluster-drivers/"},"cluster driver")," for ACK, but by default, this cluster driver is ",(0,i.kt)("inlineCode",{parentName:"p"},"inactive"),". In order to launch ACK clusters, you will need to ",(0,i.kt)("a",{parentName:"p",href:"https://rancher.com/docs/rancher/v2.6/en/admin-settings/drivers/cluster-drivers/#activating-deactivating-cluster-drivers"},"enable the ACK cluster driver"),". After enabling the cluster driver, you can start provisioning ACK clusters."),(0,i.kt)("h1",{id:"prerequisites-outside-of-rancher"},"Prerequisites Outside of Rancher"),(0,i.kt)("p",null,">",(0,i.kt)("strong",{parentName:"p"},"Note"),"\n",">","Deploying to ACK will incur charges."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In Aliyun, activate the following services in their respective consoles."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://cs.console.aliyun.com"},"Container Service")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://ros.console.aliyun.com"},"Resource Orchestration Service")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://ram.console.aliyun.com"},"RAM")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Make sure that the account you will be using to create the ACK cluster has the appropriate permissions. Referring to the official Alibaba Cloud documentation about ",(0,i.kt)("a",{parentName:"p",href:"https://www.alibabacloud.com/help/doc-detail/86483.htm"},"Role authorization")," and ",(0,i.kt)("a",{parentName:"p",href:"https://www.alibabacloud.com/help/doc-detail/86484.htm"},"Use the Container Service console as a RAM user")," for details.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In Alibaba Cloud, create an ",(0,i.kt)("a",{parentName:"p",href:"https://www.alibabacloud.com/help/doc-detail/53045.html"},"access key"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In Alibaba Cloud, create an ",(0,i.kt)("a",{parentName:"p",href:"https://www.alibabacloud.com/help/doc-detail/51793.html"},"SSH key pair"),". This key is used to access nodes in the Kubernetes cluster."))),(0,i.kt)("h1",{id:"prerequisite-in-rancher"},"Prerequisite in Rancher"),(0,i.kt)("p",null,"You will need to enable the Alibaba ACK cluster driver:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Drivers"),"."),(0,i.kt)("li",{parentName:"ol"},"In the ",(0,i.kt)("strong",{parentName:"li"},"Cluster Drivers")," tab, go to the ",(0,i.kt)("strong",{parentName:"li"},"Alibaba ACK")," cluster driver and click ",(0,i.kt)("strong",{parentName:"li"},"\u22ee ",">"," Activate"),".")),(0,i.kt)("p",null,"When the cluster driver is finished downloading, you will be able to create Alibaba ACK clusters in Rancher."),(0,i.kt)("h1",{id:"create-an-ack-cluster"},"Create an ACK Cluster"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"\u2630 ",">"," Cluster Management"),"."),(0,i.kt)("li",{parentName:"ol"},"From the ",(0,i.kt)("strong",{parentName:"li"},"Clusters")," page, click ",(0,i.kt)("strong",{parentName:"li"},"Create"),"."),(0,i.kt)("li",{parentName:"ol"},"Choose ",(0,i.kt)("strong",{parentName:"li"},"Alibaba ACK"),"."),(0,i.kt)("li",{parentName:"ol"},"Enter a ",(0,i.kt)("strong",{parentName:"li"},"Cluster Name"),"."),(0,i.kt)("li",{parentName:"ol"},"Use ",(0,i.kt)("strong",{parentName:"li"},"Member Roles")," to configure user authorization for the cluster. Click ",(0,i.kt)("strong",{parentName:"li"},"Add Member")," to add users that can access the cluster. Use the ",(0,i.kt)("strong",{parentName:"li"},"Role")," drop-down to set permissions for each user."),(0,i.kt)("li",{parentName:"ol"},"Configure ",(0,i.kt)("strong",{parentName:"li"},"Account Access")," for the ACK cluster. Choose the geographical region in which to build your cluster, and input the access key that was created as part of the prerequisite steps."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Next: Configure Cluster"),", then choose cluster type, the version of Kubernetes and the availability zone."),(0,i.kt)("li",{parentName:"ol"},"If you choose ",(0,i.kt)("strong",{parentName:"li"},"Kubernetes")," as the cluster type, Click ",(0,i.kt)("strong",{parentName:"li"},"Next: Configure Master Nodes"),", then complete the ",(0,i.kt)("strong",{parentName:"li"},"Master Nodes")," form."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Next: Configure Worker Nodes"),", then complete the ",(0,i.kt)("strong",{parentName:"li"},"Worker Nodes")," form."),(0,i.kt)("li",{parentName:"ol"},"Review your options to confirm they're correct. Then click ",(0,i.kt)("strong",{parentName:"li"},"Create"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Result:")," "),(0,i.kt)("p",null,"Your cluster is created and assigned a state of ",(0,i.kt)("strong",{parentName:"p"},"Provisioning"),". Rancher is standing up your cluster."),(0,i.kt)("p",null,"You can access your cluster after its state is updated to ",(0,i.kt)("strong",{parentName:"p"},"Active"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Active")," clusters are assigned two Projects: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Default"),", containing the ",(0,i.kt)("inlineCode",{parentName:"li"},"default")," namespace"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"System"),", containing the ",(0,i.kt)("inlineCode",{parentName:"li"},"cattle-system"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"ingress-nginx"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"kube-public"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"kube-system")," namespaces")))}d.isMDXComponent=!0}}]);